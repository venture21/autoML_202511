# 타이타닉 생존 예측 Flask 웹 서비스

LightGBM 모델을 사용하여 타이타닉 승객의 생존 여부를 예측하는 웹 서비스입니다.

## 파일 구조

```
.
├── app.py                          # Flask 애플리케이션 메인 파일
├── lgbm_titanic_model.pkl         # 학습된 LightGBM 모델
├── train_preprocessed.csv         # 전처리된 학습 데이터 (스케일링 파라미터용)
├── requirements.txt               # 필요한 Python 패키지 목록
└── templates/                     # HTML 템플릿 폴더
    ├── index.html                 # 메인 입력 폼 페이지
    ├── result.html                # 예측 결과 페이지
    └── error.html                 # 에러 페이지
```

## 설치 방법

1. 필요한 패키지 설치 (선택사항 - 이미 설치되어 있는 경우 생략)
```bash
pip install -r requirements.txt
```

## 실행 방법

1. Flask 앱 실행
```bash
python3 app.py
```

2. 웹 브라우저에서 다음 주소로 접속
```
http://localhost:5000
```

또는

```
http://127.0.0.1:5000
```

## 사용 방법

### 웹 인터페이스 사용

1. 브라우저에서 서비스에 접속하면 입력 폼이 나타납니다
2. 다음 정보를 입력합니다:
   - **이름 (Name)**: 호칭을 포함한 이름 (예: Mr. John Smith, Mrs. Jane Doe)
   - **객실 등급 (Pclass)**: 1등급, 2등급, 3등급 중 선택
   - **성별 (Sex)**: 남성 또는 여성
   - **나이 (Age)**: 승객의 나이
   - **운임 (Fare)**: 지불한 운임 (파운드 단위)
   - **형제/배우자 수 (SibSp)**: 함께 탑승한 형제자매 또는 배우자 수
   - **부모/자녀 수 (Parch)**: 함께 탑승한 부모 또는 자녀 수
   - **승선 항구 (Embarked)**: C(셔부르), Q(퀸즈타운), S(사우샘프턴) 중 선택
   - **객실 번호 (Cabin)**: 선택사항, 예: C85

3. "생존 확률 예측하기" 버튼 클릭
4. 예측 결과 페이지에서 다음 정보 확인:
   - 생존/사망 예측
   - 생존 확률 및 사망 확률 (백분율)
   - 입력한 승객 정보 요약

### 예제 입력값

**예제 1: 생존 가능성이 높은 경우**
- 이름: Mrs. Elizabeth Smith
- 객실 등급: 1등급
- 성별: 여성
- 나이: 25
- 운임: 100
- 형제/배우자 수: 0
- 부모/자녀 수: 1
- 승선 항구: C (셔부르)
- 객실 번호: C85

**예제 2: 생존 가능성이 낮은 경우**
- 이름: Mr. John Brown
- 객실 등급: 3등급
- 성별: 남성
- 나이: 35
- 운임: 8
- 형제/배우자 수: 0
- 부모/자녀 수: 0
- 승선 항구: S (사우샘프턴)
- 객실 번호: (비워둠)

## API 사용 (선택사항)

JSON 형식으로 POST 요청을 보내 프로그래밍 방식으로도 사용할 수 있습니다:

```bash
curl -X POST http://localhost:5000/api/predict \
  -H "Content-Type: application/json" \
  -d '{
    "Name": "Mr. John Smith",
    "Pclass": "1",
    "Sex": "male",
    "Age": "30",
    "SibSp": "1",
    "Parch": "0",
    "Fare": "50",
    "Cabin": "C85",
    "Embarked": "S"
  }'
```

## 모델 정보

- **알고리즘**: LightGBM (Light Gradient Boosting Machine)
- **학습 데이터**: 타이타닉 생존자 데이터
- **주요 특성**: 객실 등급, 성별, 나이, 운임, 가족 구성원 수, 승선 항구, 호칭, 객실 위치

## 주의사항

- 이 모델은 교육 및 데모 목적으로 제작되었습니다
- 예측 결과는 역사적 데이터를 기반으로 한 통계적 추정입니다
- 모든 입력값은 유효한 범위 내에서 입력해야 합니다

## 종료 방법

터미널에서 `Ctrl + C`를 눌러 Flask 서버를 종료합니다.
